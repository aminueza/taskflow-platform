# Example terraform.tfvars for manual deployment
# Copy this to terraform.tfvars and replace the placeholder values

environment         = "global"
location            = "francecentral"
application_name    = "taskflow"
business_impact     = "Low"
data_classification = "Confidential"

container_apps = {
  api = {
    container_name           = "api"
    image                    = "myregistry.azurecr.io/api:latest"
    cpu                      = 0.5
    memory                   = "1Gi"
    env_vars = {
      RAILS_ENV = {
        value = "production"
      }
      DATABASE_URL = {
        secret_name = "database-url"
      }
      REDIS_URL = {
        secret_name = "redis-url"
      }
      SECRET_KEY_BASE = {
        secret_name = "secret-key-base"
      }
    }
    secrets = {
      database-url    = "postgresql://user:pass@host:5432/dbname"
      redis-url       = "redis://localhost:6379/0"
      secret-key-base = "your-secret-key-base-here"
    }
    ingress_enabled          = true
    ingress_external_enabled = true
    ingress_target_port      = 3000
    min_replicas             = 1
    max_replicas             = 3
    revision_mode            = "Single"
  }

  frontend = {
    container_name           = "frontend"
    image                    = "myregistry.azurecr.io/frontend:latest"
    cpu                      = 0.25
    memory                   = "0.5Gi"
    env_vars = {
      NODE_ENV = {
        value = "production"
      }
      REACT_APP_API_URL = {
        value = "https://your-api-url.com"
      }
    }
    secrets                  = {}
    ingress_enabled          = true
    ingress_external_enabled = true
    ingress_target_port      = 80
    min_replicas             = 1
    max_replicas             = 3
    revision_mode            = "Single"
  }
}
